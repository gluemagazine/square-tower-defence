[gd_scene load_steps=19 format=4 uid="uid://kl6qgmxpv6il"]

[ext_resource type="Script" uid="uid://bplmlt0rdsi7r" path="res://scenes/enemies/wave_manager.gd" id="1_fjhfp"]
[ext_resource type="PackedScene" uid="uid://qunequ0snvhy" path="res://scenes/player_manager.tscn" id="1_xscvl"]
[ext_resource type="Script" uid="uid://cfidvnm38saep" path="res://resources/User/level_info.gd" id="2_73rso"]
[ext_resource type="Script" uid="uid://cimw6eha4lytp" path="res://resources/waves/wave.gd" id="2_gj7s8"]
[ext_resource type="Script" uid="uid://dsrsqrxwy3wns" path="res://scenes/enemies/manual_spawner.gd" id="2_xd6eh"]
[ext_resource type="Resource" uid="uid://ce5c5uu5q1ncf" path="res://resources/waves/basic wave.tres" id="3_xscvl"]
[ext_resource type="Resource" uid="uid://bslwvov6rrvqv" path="res://resources/waves/fast wave.tres" id="5_7nsrw"]
[ext_resource type="TileSet" uid="uid://c4hina6s2qtir" path="res://resources/tilemaps/map tiles.tres" id="5_24haj"]
[ext_resource type="TileSet" uid="uid://ckmygcjmpbdex" path="res://resources/tilemaps/navigation tiles.tres" id="6_fjhfp"]
[ext_resource type="Script" uid="uid://n1c5q3ar4ftf" path="res://resources/enemies/enemy_resource.gd" id="6_i4h0e"]
[ext_resource type="Resource" uid="uid://40154clyob1r" path="res://resources/enemies/basic enemy.tres" id="7_s6h2y"]
[ext_resource type="TileSet" uid="uid://dcxxr1qhfql2o" path="res://resources/tilemaps/buildings.tres" id="7_xd6eh"]
[ext_resource type="PackedScene" uid="uid://bgubqo0qquoyr" path="res://scenes/base.tscn" id="8_gj7s8"]
[ext_resource type="Resource" uid="uid://14321q0em26i" path="res://resources/enemies/fast enemy.tres" id="8_w0p8v"]
[ext_resource type="PackedScene" uid="uid://su4d30wrw3ed" path="res://scenes/instakill zone.tscn" id="14_s6h2y"]
[ext_resource type="PackedScene" uid="uid://downv7grip0yk" path="res://Towers/archerTower.tscn" id="15_w0p8v"]

[sub_resource type="Resource" id="Resource_7ebxn"]
script = ExtResource("2_73rso")
starting_gold = 50
base_health = 500
base_max_health = 500
level_name = "Level 1"
metadata/_custom_type_script = "uid://cfidvnm38saep"

[sub_resource type="Resource" id="Resource_73rso"]
script = ExtResource("2_gj7s8")
enemies = Dictionary[ExtResource("6_i4h0e"), int]({
ExtResource("7_s6h2y"): 10,
ExtResource("8_w0p8v"): 5
})
duration = 5.0
spawn_interval = 0.0
metadata/_custom_type_script = "uid://cimw6eha4lytp"

[node name="Map Template" type="Node2D"]

[node name="PlayerManager" parent="." instance=ExtResource("1_xscvl")]
info = SubResource("Resource_7ebxn")

[node name="WaveManager" type="Node" parent="." node_paths=PackedStringArray("spawner_array")]
script = ExtResource("1_fjhfp")
spawner_array = [NodePath("ManualSpawner"), NodePath("ManualSpawner2"), NodePath("ManualSpawner3"), NodePath("ManualSpawner4")]
waves = Array[ExtResource("2_gj7s8")]([ExtResource("3_xscvl"), ExtResource("5_7nsrw"), SubResource("Resource_73rso")])
metadata/_custom_type_script = "uid://bplmlt0rdsi7r"

[node name="ManualSpawner" type="Node2D" parent="WaveManager" node_paths=PackedStringArray("new_parent", "target")]
position = Vector2(233, 1)
script = ExtResource("2_xd6eh")
path_num = 1
new_parent = NodePath("../..")
target = NodePath("../../bases/Base")
metadata/_custom_type_script = "uid://dsrsqrxwy3wns"

[node name="ManualSpawner2" type="Node2D" parent="WaveManager" node_paths=PackedStringArray("new_parent", "target")]
position = Vector2(250, 1)
script = ExtResource("2_xd6eh")
path_num = 2
new_parent = NodePath("../..")
target = NodePath("../../bases/Base")
metadata/_custom_type_script = "uid://dsrsqrxwy3wns"

[node name="ManualSpawner3" type="Node2D" parent="WaveManager" node_paths=PackedStringArray("new_parent", "target")]
position = Vector2(216, 1)
script = ExtResource("2_xd6eh")
path_num = 3
new_parent = NodePath("../..")
target = NodePath("../../bases/Base")
metadata/_custom_type_script = "uid://dsrsqrxwy3wns"

[node name="ManualSpawner4" type="Node2D" parent="WaveManager" node_paths=PackedStringArray("new_parent", "target")]
position = Vector2(199, 1)
script = ExtResource("2_xd6eh")
path_num = 4
new_parent = NodePath("../..")
target = NodePath("../../bases/Base")
metadata/_custom_type_script = "uid://dsrsqrxwy3wns"

[node name="visual" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAANAAAAAQACAAEAAAANAAEAAQACAAEAAAANAAIAAQACAAEAAAANAAMAAQACAAEAAAANAAQAAQACAAEAAAANAAUAAQACAAEAAAANAAYAAQACAAEAAAANAAcAAQACAAEAAAAMAAcAAQACAAEAAAALAAcAAQACAAEAAAAKAAcAAQACAAEAAAAJAAcAAQACAAEAAAAIAAcAAQACAAEAAAAHAAcAAQACAAEAAAAGAAcAAQACAAEAAAAFAAcAAQACAAEAAAAFAAgAAQACAAEAAAAFAAkAAQACAAEAAAAFAAoAAQACAAEAAAAFAAsAAQACAAEAAAAGAAkAAQACAAEAAAAGAAoAAQACAAEAAAAGAAsAAQACAAEAAAAHAAkAAQACAAEAAAAIAAkAAQACAAEAAAAJAAkAAQACAAEAAAAKAAkAAQACAAEAAAAKAAoAAQACAAEAAAAKAAsAAQACAAEAAAAKAAwAAQACAAEAAAAKAA0AAQACAAEAAAALAA0AAQACAAEAAAAMAA0AAQACAAEAAAANAA0AAQACAAEAAAAOAA0AAQACAAEAAAAOAA4AAQACAAEAAAAOAA8AAQACAAEAAAAOABAAAQACAAEAAAAOABEAAQACAAEAAAAPABEAAQACAAEAAAAQABEAAQACAAEAAAARABEAAQACAAEAAAASABEAAQACAAEAAAATABEAAQACAAEAAAAUABEAAQACAAEAAAAVABEAAQACAAEAAAAWABEAAQACAAEAAAAXABEAAQACAAEAAAAYABEAAQACAAEAAAAZABEAAQACAAEAAAAaABEAAQACAAEAAAAaABIAAQACAAEAAAAZABIAAQACAAEAAAAYABIAAQACAAEAAAAXABIAAQACAAEAAAAWABIAAQACAAEAAAAVABIAAQACAAEAAAAUABIAAQACAAEAAAATABIAAQACAAEAAAASABIAAQACAAEAAAARABIAAQACAAEAAAAQABIAAQACAAEAAAAPABIAAQACAAEAAAAOABIAAQACAAEAAAANABIAAQACAAEAAAAMABIAAQACAAEAAAALABIAAQACAAEAAAAKABIAAQACAAEAAAAJABIAAQACAAEAAAAIABIAAQACAAEAAAAHABIAAQACAAEAAAAGABIAAQACAAEAAAAFABIAAQACAAEAAAAEABIAAQACAAEAAAADABIAAQACAAEAAAACABIAAQACAAEAAAABABIAAQACAAEAAAAAABIAAQACAAEAAAAAAAsAAQACAAEAAAABAAsAAQACAAEAAAACAAsAAQACAAEAAAADAAsAAQACAAEAAAAEAAsAAQACAAEAAAADAAoAAQACAAEAAAADAAkAAQACAAEAAAADAAgAAQACAAEAAAADAAcAAQACAAEAAAADAAYAAQACAAEAAAADAAUAAQACAAEAAAADAAQAAQACAAEAAAADAAMAAQACAAEAAAADAAIAAQACAAEAAAADAAEAAQACAAEAAAADAAAAAQACAAEAAAAEAAAAAQACAAEAAAAFAAAAAQACAAEAAAAGAAAAAQACAAEAAAAHAAAAAQACAAEAAAAIAAAAAQACAAEAAAAJAAAAAQACAAEAAAAKAAAAAQACAAEAAAALAAAAAQACAAEAAAAMAAAAAQACAAEAAAAOAAAAAQACAAEAAAAPAAAAAQACAAEAAAAPAAEAAQACAAEAAAAPAAIAAQACAAEAAAAPAAMAAQACAAEAAAAPAAQAAQACAAEAAAAPAAUAAQACAAEAAAAPAAYAAQACAAEAAAAPAAcAAQACAAEAAAAPAAgAAQACAAEAAAAPAAkAAQACAAEAAAAPAAoAAQACAAEAAAAOAAkAAQACAAEAAAAQAAkAAQACAAEAAAARAAkAAQACAAEAAAASAAkAAQACAAEAAAATAAkAAQACAAEAAAAUAAkAAQACAAEAAAAVAAkAAQACAAEAAAAWAAkAAQACAAEAAAAXAAkAAQACAAEAAAAYAAkAAQACAAEAAAAZAAkAAQACAAEAAAAaAAkAAQACAAEAAAAaAAoAAQACAAEAAAAaAAsAAQACAAEAAAAaAAwAAQACAAEAAAAaAA0AAQACAAEAAAAaAA4AAQACAAEAAAAaAA8AAQACAAEAAAAaABAAAQACAAEAAAAZABAAAQACAAEAAAAZAA8AAQACAAEAAAAZAA4AAQACAAEAAAAZAA0AAQACAAEAAAAZAAwAAQACAAEAAAAZAAsAAQACAAEAAAAZAAoAAQACAAEAAAAYAAoAAQACAAEAAAAXAAoAAQACAAEAAAAWAAoAAQACAAEAAAAVAAoAAQACAAEAAAAUAAoAAQACAAEAAAATAAoAAQACAAEAAAASAAoAAQACAAEAAAARAAoAAQACAAEAAAAQAAoAAQACAAEAAAAOAAoAAQACAAEAAAAOAAgAAQACAAEAAAAOAAcAAQACAAEAAAAOAAYAAQACAAEAAAAOAAUAAQACAAEAAAAOAAQAAQACAAEAAAAOAAMAAQACAAEAAAAOAAIAAQACAAEAAAAOAAEAAQACAAEAAAAEAAoAAQACAAEAAAAAABEAAQACAAEAAAAAABAAAQACAAEAAAAAAA8AAQACAAEAAAAAAA4AAQACAAEAAAAAAA0AAQACAAEAAAAAAAwAAQACAAEAAAA=")
tile_set = ExtResource("5_24haj")

[node name="Paths" type="Node2D" parent="."]
visible = false

[node name="path1" type="TileMapLayer" parent="Paths"]
tile_map_data = PackedByteArray("AAAOAAAAAgACAAEAAAAOAAEAAgACAAEAAAAOAAIAAgACAAEAAAAOAAMAAgACAAEAAAAOAAQAAgACAAEAAAAOAAUAAgACAAEAAAAOAAYAAgACAAEAAAAOAAcAAgACAAEAAAAOAAgAAgACAAEAAAAOAAkAAgACAAEAAAAOAAoAAgACAAEAAAAPAAoAAgACAAEAAAAQAAoAAgACAAEAAAARAAoAAgACAAEAAAASAAoAAgACAAEAAAATAAoAAgACAAEAAAAUAAoAAgACAAEAAAAVAAoAAgACAAEAAAAWAAoAAgACAAEAAAAXAAoAAgACAAEAAAAYAAoAAgACAAEAAAAZAAoAAgACAAEAAAAZAAsAAgACAAEAAAAZAA4AAgACAAEAAAAZAA8AAgACAAEAAAAZABAAAgACAAEAAAAZAAwAAgACAAEAAAAZAA0AAgACAAEAAAAZABEAAgACAAEAAAAYABEAAgACAAEAAAAXABEAAgACAAEAAAAWABEAAgACAAEAAAAVABEAAgACAAEAAAAUABEAAgACAAEAAAATABEAAgACAAEAAAASABEAAgACAAEAAAARABEAAgACAAEAAAAQABEAAgACAAEAAAAPABEAAgACAAEAAAAOABEAAgACAAEAAAAOABAAAgACAAEAAAAOAA8AAgACAAEAAAAOAA4AAgACAAEAAAAOAA0AAgACAAEAAAANAA0AAgACAAEAAAAMAA0AAgACAAEAAAALAA0AAgACAAEAAAAKAA0AAgACAAEAAAAKAAwAAgACAAEAAAAKAAsAAgACAAEAAAAKAAoAAgACAAEAAAAKAAkAAgACAAEAAAAJAAkAAgACAAEAAAAIAAkAAgACAAEAAAAHAAkAAgACAAEAAAAGAAkAAgACAAEAAAAGAAoAAgACAAEAAAAGAAsAAgACAAEAAAA=")
tile_set = ExtResource("6_fjhfp")

[node name="path2" type="TileMapLayer" parent="Paths"]
tile_map_data = PackedByteArray("AAAPAAAAAgADAAEAAAAPAAEAAgADAAEAAAAPAAIAAgADAAEAAAAPAAMAAgADAAEAAAAPAAQAAgADAAEAAAAPAAUAAgADAAEAAAAPAAYAAgADAAEAAAAPAAcAAgADAAEAAAAPAAgAAgADAAEAAAAPAAkAAgADAAEAAAAQAAkAAgADAAEAAAARAAkAAgADAAEAAAASAAkAAgADAAEAAAATAAkAAgADAAEAAAAUAAkAAgADAAEAAAAVAAkAAgADAAEAAAAWAAkAAgADAAEAAAAXAAkAAgADAAEAAAAYAAkAAgADAAEAAAAZAAkAAgADAAEAAAAaAAkAAgADAAEAAAAaAAoAAgADAAEAAAAaAAsAAgADAAEAAAAaAAwAAgADAAEAAAAaAA0AAgADAAEAAAAaAA4AAgADAAEAAAAaAA8AAgADAAEAAAAaABAAAgADAAEAAAAaABEAAgADAAEAAAAaABIAAgADAAEAAAAZABIAAgADAAEAAAAYABIAAgADAAEAAAAXABIAAgADAAEAAAAWABIAAgADAAEAAAAVABIAAgADAAEAAAAUABIAAgADAAEAAAATABIAAgADAAEAAAASABIAAgADAAEAAAARABIAAgADAAEAAAAQABIAAgADAAEAAAAPABIAAgADAAEAAAAOABIAAgADAAEAAAANABIAAgADAAEAAAAMABIAAgADAAEAAAALABIAAgADAAEAAAAKABIAAgADAAEAAAAJABIAAgADAAEAAAAIABIAAgADAAEAAAAHABIAAgADAAEAAAAGABIAAgADAAEAAAAFABIAAgADAAEAAAAEABIAAgADAAEAAAADABIAAgADAAEAAAACABIAAgADAAEAAAABABIAAgADAAEAAAAAABIAAgADAAEAAAAAAAsAAgADAAEAAAABAAsAAgADAAEAAAACAAsAAgADAAEAAAADAAsAAgADAAEAAAAAAAwAAgADAAEAAAAAAA0AAgADAAEAAAAAAA4AAgADAAEAAAAAAA8AAgADAAEAAAAAABAAAgADAAEAAAAAABEAAgADAAEAAAA=")
tile_set = ExtResource("6_fjhfp")

[node name="path3" type="TileMapLayer" parent="Paths"]
tile_map_data = PackedByteArray("AAANAAAAAgACAAIAAAANAAEAAgACAAIAAAANAAIAAgACAAIAAAANAAMAAgACAAIAAAANAAQAAgACAAIAAAANAAUAAgACAAIAAAANAAYAAgACAAIAAAANAAcAAgACAAIAAAAMAAcAAgACAAIAAAALAAcAAgACAAIAAAAKAAcAAgACAAIAAAAJAAcAAgACAAIAAAAIAAcAAgACAAIAAAAHAAcAAgACAAIAAAAGAAcAAgACAAIAAAAFAAcAAgACAAIAAAAFAAgAAgACAAIAAAAFAAkAAgACAAIAAAAFAAoAAgACAAIAAAAFAAsAAgACAAIAAAA=")
tile_set = ExtResource("6_fjhfp")

[node name="path4" type="TileMapLayer" parent="Paths"]
tile_map_data = PackedByteArray("AAAMAAAAAgADAAIAAAALAAAAAgADAAIAAAAKAAAAAgADAAIAAAAJAAAAAgADAAIAAAAIAAAAAgADAAIAAAAHAAAAAgADAAIAAAAGAAAAAgADAAIAAAAFAAAAAgADAAIAAAAEAAAAAgADAAIAAAADAAAAAgADAAIAAAADAAEAAgADAAIAAAADAAIAAgADAAIAAAADAAMAAgADAAIAAAADAAQAAgADAAIAAAADAAUAAgADAAIAAAADAAYAAgADAAIAAAADAAcAAgADAAIAAAADAAgAAgADAAIAAAADAAkAAgADAAIAAAADAAoAAgADAAIAAAAEAAoAAgADAAIAAAAEAAsAAgADAAIAAAA=")
tile_set = ExtResource("6_fjhfp")

[node name="universal navigation" type="TileMapLayer" parent="Paths"]
tile_map_data = PackedByteArray("AAADAAwAAgABAAAAAAADAA0AAgABAAAAAAAEAAwAAgABAAAAAAAEAA0AAgABAAAAAAAFAAwAAgABAAAAAAAFAA0AAgABAAAAAAAGAAwAAgABAAAAAAAGAA0AAgABAAAAAAACAAwAAgABAAAAAAACAA0AAgABAAAAAAAHAAwAAgABAAAAAAAHAA0AAgABAAAAAAA=")
tile_set = ExtResource("6_fjhfp")

[node name="buildings" type="TileMapLayer" parent="."]
visible = false
tile_set = ExtResource("7_xd6eh")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(224, 162)

[node name="bases" type="Node2D" parent="."]

[node name="Base" parent="bases" instance=ExtResource("8_gj7s8")]
position = Vector2(64, 192)

[node name="InstakillZone" parent="." instance=ExtResource("14_s6h2y")]
position = Vector2(183, 82)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="InstakillZone"]
visible = false
polygon = PackedVector2Array(-40, -86, 119, 22, 24, 94, -106, -46)
disabled = true

[node name="archerTower" parent="." instance=ExtResource("15_w0p8v")]
position = Vector2(82, 82)
